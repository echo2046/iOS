### 1.什么是“应用瘦身”

“应用瘦身”（App thinning）是美国苹果公司自iOS9发布的新特性，它能针对Apple Store和操作系统进行优化，它根据用户的具体设备型号，在保证应用特性完整的情况下，尽可能地压缩和减少应用程序安装包的体积，也就是尽可能减少应用程序对用户设备内存的占用，从而减小用户下载应用程序的负担。

App thinning的实现主要有以下3中方式：Slicing、Bitcode和On-Demand Resource。

1. Slicing

在开发者将完整的应用安装包发布到Apple Store之后，Apple Store会根据下载用户的目标设备型号创建相应的应用变体（variants of the app bundle）。这些变体只包含可执行的结构和资源等必要部分，而不需要让用户下载开发者提供的完整安装包。

2. Bitcode

Bitcode是iOS中开发者的一个可选项，如果工程中开启了Bitcode，那么苹果会对开发者编译后的应用二进制文件进行二次优化，将其转换成一种中间代码，在Apple Store上进行编译和链接。Bitcode属于官方的一种新的优化技术，由于很多第三方库不支持Bitcode，所以很多时候不得不关闭Bitcode以保证程序的正常运行。

3. On-Demand Resource

它是一种“按需供给”的资源加载方式，用户下载应用程序时不需要下载应用程序完整的资源，而是在用户使用过程中到了某个阶段需要用到某些资源时，才从后台的服务器下载。这种方式在游戏等对资源使用量大的应用程序中效果最明显。

### 2. Cocoa Touch的四层架构及其服务

| 左对齐 | 右对齐 | 居中对齐 |
| 单元格 | 单元格 | 单元格 |
| 单元格 | 单元格 | 单元格 |
